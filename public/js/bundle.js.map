{"version":3,"sources":["webpack:///webpack/bootstrap 61997e1026473709098e","webpack:///./public/js/house.js","webpack:///./public/js/controls.js","webpack:///./public/js/room.js","webpack:///./public/main.js"],"names":["Controls","require","House","ctx","data","updateDB","i","length","roomParams","newRoom","start","module","exports","Room","params","id","name","light","temp","curtain","curtain_height","room","curtainPresent","curtains","present","roomDims","dims","update","bind","updateLight","updateCurtain","updateTemp","lightText","patchServer","loadControls","draw","console","log","val","$","text","slider","orientation","min","max","value","slide","event","ui","change","step","hide","curtainHeight","curtainX","x","curtainY","y","curtainW","w","curtainMaxHeight","curtainColor","col","roomX","roomY","roomW","roomH","h","fire","speed","maxPow","gravity","flameWidth","flameHeight","fadingFlameSpeed","brightness","clearRect","fillStyle","fillRect","font","fillText","root","document","ready","canvas","window","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","width","height","ajax","type","headers","url","dataType","JSON","stringify","then","res","getContext","method","house","Error"],"mappings":"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","file":"./public/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 61997e1026473709098e","const Controls = require('./controls');\n\nclass House{\n  constructor(ctx, data, updateDB){\n    this.updateDB = updateDB;\n    this.ctx = ctx;\n    this.data = data;\n  \n  }\n  start(){\n    let data = this.data;\n    for(let i=0; i < data.length; i++){\n      let roomParams = data[i];\n      let newRoom = new Controls(this.ctx, roomParams, this.updateDB);\n      newRoom.start();\n    }\n    // console.log(this.data);\n    // let livingControls = new Controls('living',this.ctx, this.livingCurtainDims, this.livingRoomDims);\n    // livingControls.start();\n    // let bedControls = new Controls('bedroom',this.ctx, this.bedCurtainDims, this.bedRoomDims);\n    // bedControls.start();\n    // let kitControls = new Controls('kitchen',this.ctx, this.kitCurtainDims, this.kitRoomDims);\n    // kitControls.start();\n    // let bathControls = new Controls('bath',this.ctx, this.bathCurtainDims, this.bathRoomDims);\n    // bathControls.start();\n  }\n}\n\nmodule.exports = House;\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/house.js","const Room = require('./room');\nclass Controls{\n  constructor(ctx, params, updateDB){\n    this.id = params.id;\n    this.roomParams = params;\n    this.name = params.name;\n    this.ctx = ctx;\n    this.light = params.light;\n    this.temp = params.temp;\n    this.curtain = params.curtain_height;\n    this.room = null;\n    this.curtainPresent = params.curtains.present;\n    this.roomDims = params.dims;\n    this.update = this.update.bind(this);\n    this.updateLight = this.updateLight.bind(this);\n    this.updateCurtain = this.updateCurtain.bind(this);\n    this.updateTemp = this.updateTemp.bind(this);\n    this.lightText = this.lightText.bind(this);\n    this.updateDB = updateDB;\n    this.patchServer = this.patchServer.bind(this);\n\n  }\n  start(){\n    this.loadControls();\n\n    this.room = new Room(this.ctx, this.roomParams);\n    this.room.draw();\n  }\n\n  update(){\n    console.log(this.id);\n    this.room.update(this.temp, this.light, this.curtain);\n\n  }\n  updateLight(light){\n    this.light = light;\n    console.log(\"updateLight\", this.light);\n    this.update();\n  }\n  patchServer(){\n    let data = {\n      \"light\": this.light,\n      \"curtain_height\": this.curtain,\n      \"temp\": this.temp\n    };\n    this.updateDB(this.id, data);\n  }\n\n  updateCurtain(curtain){\n    this.curtain = curtain;\n    this.update();\n  }\n  updateTemp(temp){\n    this.temp = temp;\n    this.update();\n  }\n  lightText(val){\n    if(val == 100 ){\n      return \"MAX\";\n    } else if(val <= 10){\n      return \"OFF\";\n    } else {\n      return val + '%';\n    }\n  }\n\n  loadControls(){\n    const update = this.update;\n    const updateLight = this.updateLight;\n    const updateCurtain = this.updateCurtain;\n    const updateTemp = this.updateTemp;\n    const name = this.name;\n    const lightText = this.lightText;\n    const patchServer = this.patchServer;\n\n    $( `#${name}-minval-temp` ).text( `${this.temp}°F` );\n    $( `#${name}-minval-light` ).text( lightText(this.light) );\n    $( `#${name}-minval-curtain` ).text( `${this.curtain}%` );\n\n\n    $( `#${name}-temp-slider` ).slider({\n              orientation:\"horizontal\",\n              min: 50,\n              max: 90,\n              value:this.temp,\n              slide: function( event, ui ) {\n                 $( `#${name}-minval-temp` ).text( `${ui.value}°F` ),\n                 updateTemp(ui.value);\n              },\n              change: function(){\n                patchServer();\n              }\n           });\n          //  $( \"#minval-temp\" ).val( $( \"#temp-slider\" ).slider( \"value\" ) );\n\n\n        $( `#${name}-light-slider` ).slider({\n                  orientation:\"horizontal\",\n                  min: 10,\n                  max: 100,\n                  step: 10,\n                  value:this.light,\n                  slide: function( event, ui ) {\n                     $( `#${name}-minval-light` ).text( lightText(ui.value) );\n                     updateLight(ui.value);\n\n                  },\n                  change: function(){\n                    patchServer();\n                  }\n               });\n\n            if(this.curtainPresent){\n              $( `#${name}-curtain-slider` ).slider({\n                        orientation:\"horizontal\",\n                        min: 10,\n                        step: 10,\n                        max: 100,\n                        value:this.curtain,\n                        slide: function( event, ui ) {\n                           $( `#${name}-minval-curtain` ).text( `${ui.value}%` );\n                           updateCurtain(ui.value);\n                        },\n                        change: function(){\n                          patchServer();\n                        }\n                     });\n            } else{\n              console.log(`.${name} > div.curtains`);\n              $(`.${name} .curtains`).hide();\n            }\n\n\n                }\n\n  }\n\nmodule.exports = Controls;\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/controls.js","class Room{\n  constructor(ctx, params){\n    this.name = params.name;\n    this.ctx = ctx;\n    this.temp = params.temp;\n    this.light = 10/(params.light);\n    this.curtainHeight = params.curtains.max * (params.curtain_height/100);\n    this.draw = this.draw.bind(this);\n    this.updateTemp = this.updateTemp.bind(this);\n    this.update = this.update.bind(this);\n\n    this.curtainX = params.curtains.x;\n    this.curtainY = params.curtains.y;\n    this.curtainW = params.curtains.w;\n    this.curtainMaxHeight = params.curtains.max;\n    this.curtainColor = params.curtains.col;\n\n    this.roomX = params.dims.x;\n    this.roomY = params.dims.y;\n    this.roomW = params.dims.w;\n    this.roomH = params.dims.h;\n    if(params.name == \"living\"){\n    $('.fire').fire({\n    speed:50,\n    maxPow: (this.temp-60)/5,\n    gravity:0,\n    flameWidth:3,\n    flameHeight:0,\n    fadingFlameSpeed:8\n  });\n  }\n}\n\n\n  draw(){\n    let curtainHeight = this.curtainHeight;\n    let brightness = this.light;\n    console.log(curtainHeight);\n    const ctx = this.ctx;\n    // let img = new Image();\n    // img.onload = function(){\n      // ctx.drawImage(img, 0,0);\n      ctx.clearRect(this.roomX, this.roomY, this.roomW, this.roomH);\n\n      ctx.fillStyle = this.curtainColor;\n      ctx.fillRect(this.curtainX, this.curtainY, this.curtainW, curtainHeight);\n\n      ctx.fillStyle = `rgba(0, 0, 0, ${brightness})`;\n      ctx.fillRect(this.roomX, this.roomY, this.roomW, this.roomH);\n\n      ctx.fillStyle = 'white';\n      ctx.font = \"25px Arial\";\n      ctx.fillText(`${this.temp}°F`,this.roomX + this.roomW - 90,this.roomY + 40);\n\n    // };\n    // img.src = `./assets/${this.name}.png`;\n\n    }\n  update(temp, light, curtain){\n    this.temp = temp;\n    this.light = 10/light;\n    if(light == 100) this.light = 0;\n    this.curtainHeight = this.curtainMaxHeight * (curtain/100);\n    this.draw();\n    this.updateTemp();\n  }\n  updateTemp(){\n    if(this.name == \"living\"){\n      $('.fire').fire('change',{maxPow:(this.temp-60)/5});\n    }\n\n  }\n\n\n}\n\nmodule.exports = Room;\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/room.js","const House = require('./js/house');\n\n// let root = \"http://localhost:3000\";\n// let root = \"https://github.com/thesoorae/automated-home\";\n// let root = process.env.PORT || 3000;\nlet root = \"https://automated-home.herokuapp.com/\";\n//get canvas\n$(document).ready(function(){\n  const canvas = $(\"#canvas\")[0];\n  const x = window.innerWidth || document.documentElement.clientWidth;\n  const y = window.innerHeight || document.documentElement.clientHeight;\n  canvas.width = x;\n  canvas.height = y;\n  console.log(root);\n\n  const updateDB = function(id, data){\n    $.ajax({\n      type: 'PATCH',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      url: root + '/rooms/'+ id,\n      dataType: 'json',\n      data: JSON.stringify(data)\n    }).then(function(res){console.log('successfully updated' + res);});\n  };\n\n  if (canvas.getContext){\n    const ctx = canvas.getContext('2d');\n    $.ajax({\n      url: root + '/rooms',\n      method: 'GET'\n    }).then(function(data){\n      let house = new House(ctx, data, updateDB);\n      house.start();\n    });\n\n    // Fetch data from API and pass into House constructor to specify starting parameters\n} else{\n  throw Error(\"HTML5 Canvas not supported on your browser\");\n}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./public/main.js"],"sourceRoot":""}